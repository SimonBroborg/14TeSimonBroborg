import javax.swing.*;
import java.util.*;
import java.awt.*;
import java.util.concurrent.ThreadLocalRandom;

public class Wolf extends LivingThing{
	 private final ImageIcon image = new ImageIcon("bin/wolf.gif"); 

	    protected Point position;

	    protected Pasture pasture;
	    
	    public Wolf(Pasture pasture, Point position) {
	    	this.pasture   = pasture;
	    	this.position  = position;
	    	this.type = "sheep"; 
	    }
	
	public void tick() {
		moveToClosestGrass(); 
	}
	
	public void setPosition(Point newPosition) { 
	    //If the new position is inside the borders the dummy will move
	    if(newPosition.x >= 0  && newPosition.x < this.pasture.getWidth() && newPosition.y >= 0  && newPosition.y < this.pasture.getHeight()){
	    	Collection world = this.pasture.getEntities();
	    	Iterator it = world.iterator();
	    	
	    	boolean grass = false;
	    	while(it.hasNext()){
	    		Entity e = (Entity) it.next();
	    		if(e.getPosition().getX() == newPosition.getX() && e.getPosition().getY() == newPosition.getY()){
	    			if(e.getType().equals("plant")){
	    				grass = true;
	    			}    			
	    		}
	    		if(grass){
	    			this.pasture.removeEntity(e);
	    			grass = false;
	    		}
	    		
	    	}
	    	
	    	
	    	position = newPosition;  //Sets the current position equal to the new position
	    }
	 }
	
	  
    public String getType() {
    	return "Dummy";
    }
    
    public ImageIcon getImage() { 
    	return image; 
    }


}
